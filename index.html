<!DOCTYPE HTML>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
	<title>Tirando proveito do Duck Typing em Python | Francisco Souza</title>
	<meta name="viewport" content="width=1274, user-scalable=no">
	<link rel="stylesheet" href="/themes/pyne/styles/fonts.css">
	<link rel="stylesheet" href="/themes/pyne/styles/reset.css">
	<link rel="stylesheet" href="/themes/pyne/styles/style.css">
	<link rel="stylesheet" href="style.css">
</head>
<body class="list">
	<div class="slide" id="Cover">
		<div>
			<section>
				<header>
					<h2>Duck Typing</h2>
				</header>
			<p class="sub">Escrevendo código mais expressivo e idiomático</p>
			<img src="pictures/cartoon_duck.jpg">
			<h3>Francisco Souza</h3>
			<p>f@souza.cc</p>
			</section>
		</div>
	</div>
	<div class="slide" id="WhoAmI">
		<div>
			<section>
				<header>
					<h2>what the f**rancisco?!</h2>
				</header>
				<ul>
					<li>Desenvolvedor na Globo.com</li>
					<li>Open source fanboy</li>
					<li>Organizador de evento nas horas vagas</li>
				</ul>
			</section>
		</div>
	</div>
	<div class="slide shout" id="Tsuru">
		<div>
			<section>
				<header>
					<h2>tsuru.io</h2>
				</header>
			</section>
		</div>
	</div>
	<div class="slide" id="BD-Design">
		<div>
			<section>
				<header>
					<h2>Behavior Driven <strong>Design</strong></h2>
				</header>
				<p>Desenvolva focado no <strong>comportamento</strong>!
				<div>
					<img src="pictures/handshake.png" width="380">
				</div>
			</section>
		</div>
	</div>
	<div class="slide" id="Interface">
		<div>
			<section>
				<header>
					<h2>Desenvolvimento orientado a interfaces</h2>
				</header>
<pre class="build">
public interface IPessoa {
	public void fazAlgumaCoisa();
}
</pre>
<pre class="build">
public class Pessoa implements IPessoa {
	public void fazAlgumaCoisa() {
		println("Fazendo alguma coisa...");
	}
}
</pre>
			</section>
		</div>
	</div>
	<div class="slide cover h" id="dafuqCat">
		<div>
			<section>
				<img src="pictures/dafuq.png">
			</section>
		</div>
	</div>
	<div class="slide quote" id="DuckTypingDef">
		<div>
			<section>
				<blockquote>
					<p>When I see a bird that walks like a duck and swims like a duck and quacks like a duck, I call that bird a duck.</p>
				</blockquote>
				<p>- Michael Heim, 2007</p>
			</section>
		</div>
	</div>
	<div class="slide" id="FirstCode">
		<div>
			<section>
				<header>
					<h2>Duck typing?</h2>
				</header>
<pre class="build strike">
Map&lt;String, Person&gt; map = new HashMap&ltString, Person&gt;();
</pre>
<pre class="build">
i = 10
</pre>
<pre class="build">
import datetime
values = [10, 2.0, "Francisco", 2.0+2j, datetime.datetime.now()]
</pre>
			</section>
		</div>
	</div>
	<div class="slide" id="API">
		<div>
			<section>
				<header>
					<h2>Construção de APIs mais expressivas</h2>
				</header>
				<div class="overlay build">
					<br><br>Por quê?
				</div>
			</section>
		</div>
	</div>
	<div class="slide shout" id="Behavior">
		<div>
			<section>
				<header>
					<h2>Comportamento</h2>
				</header>
			</section>
		</div>
	</div>
	<div class="slide quote" id="AlexMartelli">
		<div>
			<section>
				<blockquote>
					<p>In other words, don't check whether it IS-a duck: check whether it QUACKS-like-a duck, WALKS-like-a duck, etc, etc, [...]</p>
				</blockquote>
				<p>- Alex Martelli, 2000</p>
			</section>
		</div>
	</div>
	<div class="slide" id="FirstDuck">
		<div>
			<section>
<pre class="mark-code build">
class Duck(object):
    def walk(self):
        pass

    def quack(self):
        pass


def quack(duck):
    if <mark>isinstance(duck, Duck)</mark>:
        duck.quack()
</pre>
			</section>
		</div>
	</div>
	<div class="slide" id="SecondDuck">
		<div>
			<section>
<pre class="mark-code build built">
class Duck(object):
    def walk(self):
        pass

    def quack(self):
        pass


def quack(duck):
    if <mark>hasattr(duck, "quack")</mark>:
        duck.quack()
</pre>
			</section>
		</div>
	</div>
	<div class="slide" id="SecondDuckNotCallable">
		<div>
			<section>
<pre>
>>> duck = Duck()
>>> duck.quack = 10
>>> def quack(duck):
...     if hasattr(duck, "quack"):
...         duck.quack()
...
>>> quack(duck)
Traceback (most recent call last):
  File "&ltstdin&gt", line 1, in &ltmodule&gt
  File "&ltstdin&gt", line 3, in quack
TypeError: 'int' object is not callable
</pre>
			</section>
		</div>
	</div>
	<div class="slide" id="ThirdDuck">
		<div>
			<section>
<pre class="mark-code build built">
class Duck(object):
    def walk(self):
        pass

    def quack(self):
        pass


def quack(duck):
    if <mark>hasattr(duck, "quack")</mark><mark class="another"> and callable(duck.quack)</mark>:
        duck.quack()
</pre>
			</section>
		</div>
	</div>
	<div class="slide cover w" id="Chan">
		<div>
			<section>
				<img src="pictures/chan.jpg">
			</section>
		</div>
	</div>
	<div class="slide shout" id="AskForgiveness">
		<div>
			<section>
				<header>
					<h2>Ask forgiveness, not permission</h2>
				</header>
			</section>
		</div>
	</div>
	<div class="slide" id="APIAgain">
		<div>
			<section>
				<header>
					<h2>Construção de APIs mais expressivas</h2>
				</header>
			<div class="build">
<pre class="mark-code build">
from django.db import models

class Person(models.Model):
    # fields declaration

    def serialize(self, serializer):
        <mark>serializer.serialize(self)</mark>
</pre>
			</div>
			</section>
		</div>
	</div>
	<div class="slide" id="Serializer">
		<div>
			<section>
				<header>
					<h2>Serializer?</h2>
				</header>
				<ul class="build-list">
					<li>Classe abstrata?</li>
					<li>Interface?!</li>
				</ul>
			</section>
		</div>
	</div>
	<div class="slide" id="Serializers">
		<div>
			<section>
				<header>
					<h2>Serializer?</h2>
				</header>
<pre>
class JSONSerializer(object):

    def serialize(self, model):
	# convert model to JSON
</pre>
<pre class="build">
class XMLSerializer(object):

    def serialize(self, model):
	# convert model to XML
</pre>
<pre class="build">class YAMLSerializer</pre>
<pre class="build">class BSONSerializer</pre>
			</section>
		</div>
	</div>
	<div class="slide" id="SerializerBetter">
		<div>
			<section>
				<header>
					<h2>Ainda melhor...</h2>
				</header>
<pre class="mark-code built">
from django.db import models

class Person(models.Model):
    # fields declaration

    def serialize(self, <mark>serialize_func</mark>):
        <mark class="another">serialize_func(self)</mark>
</pre>
			</section>
		</div>
	</div>
	<div class="slide" id="Components">
		<div>
			<section>
				<header>
					<h2>Aplicável em outros componentes</h2>
				</header>
			</section>
		</div>
	</div>
	<div class="slide" id="FileExample">
		<div>
			<section>
				<header>
					<h2>Mais um exemplo...</h2>
				</header>
<pre>
def copy(dst, src, filter):
    for line in src:
        if filter(line):
            dst.write(line)
</pre>
<pre class="build">
src_file = open("/etc/passwd")
dst_file = open("/etc/passwd.bkp", "w")
copy(dst_file, src_file, lambda line: line.startswith("a"))
</pre>
			</section>
		</div>
	</div>
	<div class="slide cover w" id="Hands">
		<div>
			<section>
				<header>
					<h2 class="right">Hands on</h2>
				</header>
				<img src="pictures/hands-on.gif">
			</section>
		</div>
	</div>
	<div class="slide" id="Exceptions">
		<div>
			<section>
				<header>
					<h2>Exceções</h2>
				</header>
				<p>Até que ponto deixar as exceções fluírem?</p>
<pre class="build">
connect_to_database(server="127.0.0.1:27017", database="python_ne")
</pre>
<pre class="build">
KeyError: 'python_ne'
</pre>
			</section>
		</div>
	</div>
	<div class="slide" id="Exception2">
		<div>
			<section>
				<header>
					<h2>Exceções</h2>
				</header>
				<p>No caso de APIs públicas, não deixe de documentar como sua API pode falhar!</p>
			</section>
		</div>
	</div>
	<div class="slide shout cover black" id="OneMoreThing">
		<div>
			<section>
				<header>
					<h2>One more thing...</h2>
				</header>
			</section>
		</div>
	</div>
	<div class="slide cover w" id="WorkAtGlobocom">
		<div>
			<section>
				<img src="pictures/globocomtalentos.jpg" alt="Trabalhe na Globo.com">
			</section>
		</div>
	</div>
	<div class="slide" id="ThankYou">
		<div>
			<section>
			<header>
			<h2>Obrigado!</h2>
			</header>
			<p>Francisco Souza<br>f@souza.cc</p>
			<ul>
				<li><a href="http://twitter.com/franciscosouza">twitter.com/franciscosouza</a></li>
				<li><a href="http://f.souza.cc">f.souza.cc</a></li>
			</ul>
			<div>
				<img src="pictures/globo.com.png" alt="Globo.com">
			</div>
			</section>
		</div>
	</div>
<div class="progress"><div></div></div>
<script src="/themes/scripts/script.js"></script>
<!-- Copyright © 2010–2012 Vadim Makeev — pepelsbey.net -->
</body>
</html>
